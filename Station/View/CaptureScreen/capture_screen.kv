<CaptureScreen>:
    md_bg_color: 1, 1, 1, 1  # White background

    MDBoxLayout:
        orientation: 'vertical'
        padding: "20dp"
        spacing: "20dp"

        # -- Logo Area Placeholder --
        Widget:
            size_hint_y: 0.3

        MDLabel:
            text: "Place tool on Bed"
            halign: "center"
            font_style: "H4"
            size_hint_y: 0.1

        # --- Live Feed Window ---
        # Image:
        #     id: camera_preview
        #     source: "assets/images/logo_white.png" # Placeholder for now
        #     allow_stretch: True
        #     keep_ratio: True
        #     size_hint_y: 0.7

        BoxLayout:
            size_hint_y: 0.7
            padding: "2dp"

            # border to frame the window
            canvas.before:
                Color: 
                    rgba: 0, 0, 0, 1 # Black border/background
                Rectangle:
                    pos: self.pos
                    size: self.size

            Image:
                id: camera_preview
                source: "assets/images/logo_white.png"
                allow_stretch: True
                keep_ratio: True

                # Line:
                #     width: 2
                #     rectangle: self.x, self.y, self.width, self.height

        MDBoxLayout:
            orientation: 'horizontal'
            spacing: "20dp"             # Gap between buttons
            size_hint_y: None           # Don't expand vertically
            height: '80dp'              # Fixed height for this row
            pos_hint: {"centre_x": .5}
            padding: '10dp'             # Optional padding around the row

            MDFillRoundFlatButton:
                text: "DEV - BACK\n(Action Selection\nScreen)"
                font_size: "14sp"
                size_hint: .2, 1        
                md_bg_color: 0.4, 0.4, 0.4, 1  # Grey
                on_release: root.go_back('action selection screen')
            
            MDFillRoundFlatButton:
                text: "DEV - Capture"
                font_size: "14sp"
                size_hint: .2, 1        
                md_bg_color: 0.4, 0.4, 0.4, 1  # Grey
                on_release: root.capture_btn('done')

            # -- DEV BUTTON --
            MDFillRoundFlatButton:
                text: "DEV - NEXT\n(Tool Confirm\nScreen)"
                font_size: "14sp"
                size_hint: .2, 1        
                md_bg_color: 0.4, 0.4, 0.4, 1  # Grey
                on_release: root.go_to('tool confirm screen')

        # -- Cancel Button --
        MDFillRoundFlatButton:
            text: "CANCEL"
            font_size: "24sp"
            size_hint: 1, 0.01
            pos_hint: {"center_x": .5}
            md_bg_color: 0.9, 0.17, 0.25, 1  # Red
            on_release: root.go_back('welcome screen')

        # Widget:
        #     size_hint_y: 0.01